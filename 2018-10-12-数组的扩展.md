---
layout:     post   				
title:      ES6-第八节-数组的扩展
subtitle:   ES6入门学习总结  
date:       2018-10-12			
author:     BY wyy						
header-img: img/post-bg-2015.jpg 	
catalog: true 					
tags:					
    - ES6
---
## 1.扩展运算符

### 1.1概念
**扩展运算符主要用在函数调用以及变量赋值中，将一个数组转化为参数序列，是rest的逆运算（rest用在函数声明，将参数序列转化为数组，代替了arguments),
原理是调用了对象的 Iterator 接口。**  
### 1.2应用
#### 1.2.1复制数组
```
const a1 = [1, 2];
// 写法一
const a2 = [...a1];
// 写法二
const [...a2] = a1;
```
#### 1.2.1合并数组
```
[...arr1, ...arr2, ...arr3]   //注意，只是浅拷贝,成员都是对原数组成员的引用，这就是浅拷贝。
```
#### 1.2.3与解构赋值结合
```
const [first, ...rest] = [1, 2, 3, 4, 5]; //如果将扩展运算符用于数组赋值，只能放在参数的最后一位，否则会报错
```
#### 1.2.4字符串
扩展运算符还可以将字符串转为真正的数组
```
[...'hello']
// [ "h", "e", "l", "l", "o" ]
```
#### 1.2.5实现了 Iterator 接口的对象

任何 Iterator 接口的对象，都可以用扩展运算符转为真正的数组。
```
let nodeList = document.querySelectorAll('div');
let array = [...nodeList];
```

#### 1.2.6Map 和 Set 结构，Generator 函数

扩展运算符内部调用的是数据结构的 Iterator 接口，因此只要具有 Iterator 接口的对象，都可以使用扩展运算符，比如 Map 结构。
```
let map = new Map([
  [1, 'one'],
  [2, 'two'],
  [3, 'three'],
]);

let arr = [...map.keys()]; // [1, 2, 3]
```
Generator 函数运行后，返回一个遍历器对象，因此也可以使用扩展运算符。
```
const go = function*(){
  yield 1;
  yield 2;
  yield 3;
};

[...go()] // [1, 2, 3]
```
上面代码中，变量go是一个 Generator 函数，执行后返回的是一个遍历器对象，对这个遍历器对象执行扩展运算符，就会将内部遍历得到的值，转为一个数组。  

## 2.Array.from()
**Array.from方法用于将两类对象转为真正的数组：类似数组的对象（array-like object）和可遍历（iterable）的对象（包括 ES6 新增的数据结构 Set 和 Map）。**  
**如果一个对象的所有键名都是正整数或零，并且有length属性(`本质`)，那么这个对象就很像数组，语法上称为“类似数组的对象”（array-like object）。**  
下面是一个类似数组的对象，Array.from将它转为真正的数组。
```
let arrayLike = {
    '0': 'a',
    '1': 'b',
    '2': 'c',
    length: 3
};

// ES5的写法
var arr1 = [].slice.call(arrayLike); // ['a', 'b', 'c']

// ES6的写法
let arr2 = Array.from(arrayLike); // ['a', 'b', 'c']
```
